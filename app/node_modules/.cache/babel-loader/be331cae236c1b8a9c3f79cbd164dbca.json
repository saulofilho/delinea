{"ast":null,"code":"var _jsxFileName = \"/Users/saulofilho/Downloads/delinea/app/src/pages/singIn/SignIn.js\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport api from \"../../services/api\";\nimport { history } from \"../../history\";\nimport \"./sign-in.css\";\nimport './Login.css';\n\nconst Login = () => {\n  const handleSubmit = values => {\n    axios.post('http://localhost:8080/v1/api/auth', values).then(resp => {\n      const data = resp.data;\n\n      if (data) {\n        localStorage.setItem('app-token', data);\n        history.push('/');\n      }\n    });\n  };\n\n  const validations = yup.object().shape({\n    email: yup.string().email().required(),\n    password: yup.string().min(8).required()\n  });\n  return React.createElement(React.Fragment, null, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, \"Login\"), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }, \"Fill the fields to continue\"), React.createElement(Formik, {\n    initialValues: {},\n    onSubmit: handleSubmit,\n    validationSchema: validations,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, React.createElement(Form, {\n    className: \"Login\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"Login-Group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, React.createElement(Field, {\n    name: \"email\",\n    className: \"Login-Field\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }), React.createElement(ErrorMessage, {\n    component: \"span\",\n    name: \"email\",\n    className: \"Login-Error\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"Login-Group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(Field, {\n    name: \"password\",\n    className: \"Login-Field\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }), React.createElement(ErrorMessage, {\n    component: \"span\",\n    name: \"password\",\n    className: \"Login-Error\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    className: \"Login-Btn\",\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, \"Login\"))));\n};\n\nexport default Login; // class SignIn extends Component {\n//   state = {\n//     email: '',\n//     password: ''\n//   };\n//   handleSignIn = async e => {\n//     e.preventDefault();\n//     const { person_email, person_password } = this.state;\n//     if (!person_email || !person_password) {\n//       this.setState({ error: \"Preencha e-mail e senha para continuar!\" });\n//     } else {\n//       try {\n//         const response = await api.post(\"/users/login\", { person_email, person_password });\n//         login(response.data.token);\n//         this.props.history.push(\"/\");\n//       } catch (err) {\n//         this.setState({\n//           error:\n//             \"Houve um problema com o login. \"\n//         });\n//       }\n//     }\n//   };\n//   render() {\n//     return (\n//       <div id=\"sign-up\" className=\"small-container\">\n//         <h3>Sign in</h3>\n//         <div className=\"box-group\">\n//           <form onSubmit={this.handleSignIn}>\n//             {this.state.error && <p>{this.state.error}</p>}\n//             <input\n//               type=\"email\"\n//               placeholder=\"Endereço de e-mail\"\n//               onChange={e => this.setState({ person_email: e.target.value })}\n//             />\n//             <input\n//               type=\"password\"\n//               placeholder=\"Senha\"\n//               onChange={e => this.setState({ person_password: e.target.value })}\n//             />\n//             <button id=\"inp-btn\" type=\"submit\">Entrar</button>\n//             <hr />\n//             <div id=\"btn-login\">\n//               <Link to=\"/signup\">Criar conta</Link>\n//             </div>\n//           </form>\n//         </div>\n//       </div>\n//     );\n//   }\n// }\n// export default SignIn;","map":{"version":3,"sources":["/Users/saulofilho/Downloads/delinea/app/src/pages/singIn/SignIn.js"],"names":["React","Component","Link","api","history","Login","handleSubmit","values","axios","post","then","resp","data","localStorage","setItem","push","validations","yup","object","shape","email","string","required","password","min"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,GAAP,MAAgB,oBAAhB;AACA,SAASC,OAAT,QAAwB,eAAxB;AACA,OAAO,eAAP;AAEA,OAAO,aAAP;;AAEA,MAAMC,KAAK,GAAG,MAAM;AAChB,QAAMC,YAAY,GAAGC,MAAM,IAAI;AAC3BC,IAAAA,KAAK,CAACC,IAAN,CAAW,mCAAX,EAAgDF,MAAhD,EACKG,IADL,CACUC,IAAI,IAAI;AAAA,YACFC,IADE,GACOD,IADP,CACFC,IADE;;AAEV,UAAIA,IAAJ,EAAU;AACNC,QAAAA,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkCF,IAAlC;AACAR,QAAAA,OAAO,CAACW,IAAR,CAAa,GAAb;AACH;AACJ,KAPL;AAQH,GATD;;AAWA,QAAMC,WAAW,GAAGC,GAAG,CAACC,MAAJ,GAAaC,KAAb,CAAmB;AACnCC,IAAAA,KAAK,EAAEH,GAAG,CAACI,MAAJ,GAAaD,KAAb,GAAqBE,QAArB,EAD4B;AAEnCC,IAAAA,QAAQ,EAAEN,GAAG,CAACI,MAAJ,GAAaG,GAAb,CAAiB,CAAjB,EAAoBF,QAApB;AAFyB,GAAnB,CAApB;AAIA,SACI,0CACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAFJ,EAGI,oBAAC,MAAD;AACI,IAAA,aAAa,EAAE,EADnB;AAEI,IAAA,QAAQ,EAAEhB,YAFd;AAGI,IAAA,gBAAgB,EAAEU,WAHtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKI,oBAAC,IAAD;AAAM,IAAA,SAAS,EAAC,OAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,KAAD;AACI,IAAA,IAAI,EAAC,OADT;AAEI,IAAA,SAAS,EAAC,aAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAKI,oBAAC,YAAD;AACI,IAAA,SAAS,EAAC,MADd;AAEI,IAAA,IAAI,EAAC,OAFT;AAGI,IAAA,SAAS,EAAC,aAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALJ,CADJ,EAYI;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,KAAD;AACI,IAAA,IAAI,EAAC,UADT;AAEI,IAAA,SAAS,EAAC,aAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAKI,oBAAC,YAAD;AACI,IAAA,SAAS,EAAC,MADd;AAEI,IAAA,IAAI,EAAC,UAFT;AAGI,IAAA,SAAS,EAAC,aAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALJ,CAZJ,EAuBI;AAAQ,IAAA,SAAS,EAAC,WAAlB;AAA8B,IAAA,IAAI,EAAC,QAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAvBJ,CALJ,CAHJ,CADJ;AAqCH,CArDD;;AAuDA,eAAeX,KAAf,C,CAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA","sourcesContent":["import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport api from \"../../services/api\";\nimport { history } from \"../../history\";\nimport \"./sign-in.css\";\n\nimport './Login.css'\n\nconst Login = () => {\n    const handleSubmit = values => {\n        axios.post('http://localhost:8080/v1/api/auth', values)\n            .then(resp => {\n                const { data } = resp\n                if (data) {\n                    localStorage.setItem('app-token', data)\n                    history.push('/')\n                }\n            })\n    }\n\n    const validations = yup.object().shape({\n        email: yup.string().email().required(),\n        password: yup.string().min(8).required()\n    })\n    return (\n        <>\n            <h1>Login</h1>\n            <p>Fill the fields to continue</p>\n            <Formik\n                initialValues={{}}\n                onSubmit={handleSubmit}\n                validationSchema={validations}\n            >\n                <Form className=\"Login\">\n                    <div className=\"Login-Group\">\n                        <Field\n                            name=\"email\"\n                            className=\"Login-Field\"\n                        />\n                        <ErrorMessage\n                            component=\"span\"\n                            name=\"email\"\n                            className=\"Login-Error\"\n                        />\n                    </div>\n                    <div className=\"Login-Group\">\n                        <Field\n                            name=\"password\"\n                            className=\"Login-Field\"\n                        />\n                        <ErrorMessage\n                            component=\"span\"\n                            name=\"password\"\n                            className=\"Login-Error\"\n                        />\n                    </div>\n                    <button className=\"Login-Btn\" type=\"submit\">Login</button>\n                </Form>\n            </Formik>\n        </>\n    )\n}\n\nexport default Login\n\n// class SignIn extends Component {\n//   state = {\n//     email: '',\n//     password: ''\n//   };\n\n//   handleSignIn = async e => {\n//     e.preventDefault();\n//     const { person_email, person_password } = this.state;\n//     if (!person_email || !person_password) {\n//       this.setState({ error: \"Preencha e-mail e senha para continuar!\" });\n//     } else {\n//       try {\n//         const response = await api.post(\"/users/login\", { person_email, person_password });\n//         login(response.data.token);\n//         this.props.history.push(\"/\");\n//       } catch (err) {\n//         this.setState({\n//           error:\n//             \"Houve um problema com o login. \"\n//         });\n//       }\n//     }\n//   };\n\n//   render() {\n//     return (\n//       <div id=\"sign-up\" className=\"small-container\">\n//         <h3>Sign in</h3>\n//         <div className=\"box-group\">\n//           <form onSubmit={this.handleSignIn}>\n//             {this.state.error && <p>{this.state.error}</p>}\n//             <input\n//               type=\"email\"\n//               placeholder=\"Endereço de e-mail\"\n//               onChange={e => this.setState({ person_email: e.target.value })}\n//             />\n//             <input\n//               type=\"password\"\n//               placeholder=\"Senha\"\n//               onChange={e => this.setState({ person_password: e.target.value })}\n//             />\n//             <button id=\"inp-btn\" type=\"submit\">Entrar</button>\n//             <hr />\n//             <div id=\"btn-login\">\n//               <Link to=\"/signup\">Criar conta</Link>\n//             </div>\n//           </form>\n//         </div>\n//       </div>\n//     );\n//   }\n// }\n\n// export default SignIn;"]},"metadata":{},"sourceType":"module"}